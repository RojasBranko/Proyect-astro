---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { db, User, Todo, eq, Category } from "astro:db";
import { getSession } from "auth-astro/server";
const users = await db.select().from(User);
console.log(User);
const tods = await db
    .select()
    .from(Todo)
    .innerJoin(User, eq(Todo.user_id, User.id))
    .innerJoin(Category, eq(Todo.category_id, Category.id));
const session = await getSession(Astro.request);
console.log(session);
---

<Layout title="Home2">
    <header class="header">
        <h1>SuperEntreteiment</h1>
        <ul>
            <li><button id="button4">inicio</button></li>
            <li><button id="button3">Empresa</button></li>
            <li><button id="button2">registrar</button></li>
            <li><button id="button">inicio sesión</button></li>
        </ul>
    </header>
    <main>
        <h1>que pasa hermano que quieres?</h1>
    </main>
</Layout>
<script>
    const button4 = document.querySelector("#button4");
    const button2 = document.querySelector("#button2");
    const button3 = document.querySelector("#button3");
    const button = document.querySelector("#button");
    button?.addEventListener("click", async function () {
        window.location.href = "/";
    });
    button2?.addEventListener("click", async function () {
        window.location.href = "/datos";
    });
    button3?.addEventListener("click", async function () {
        window.location.href = "/home";
    });
    button4?.addEventListener("click", async function () {
        window.location.href = "/";
    });
</script>
<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
    }
    .header {
        background-color: #272626;
        color: #fdfbfb;
        padding: 10px 20px;
        position: fixed;
        top: 0;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000; /* Asegura que el header esté por encima de todo */
    }

    .header h1 {
        margin: 0;
    }

    .header ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
    }

    .header li {
        display: inline-block;
        margin-left: 10px;
    }

    nav {
        margin-top: 20px;
        text-align: center;
    }
    nav button {
        background-color: #555;
        border: none;
        color: white;
        padding: 10px 20px;
        margin: 0 10px;
        cursor: pointer;
        border-radius: 5px;
    }
    nav button:hover {
        background-color: #777;
    }
    main {
        color: white;
        padding: 20px;
        text-align: center;
    }
</style>
